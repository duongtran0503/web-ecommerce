<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <title>Thanh Toán</title>
    <link rel="icon" type="image/x-icon" href="../image/logo/logo.png" />
    <link rel="stylesheet" href="../css/reset.css" />
    <link rel="stylesheet" href="../css/ViewCart.css" />
    <link rel="stylesheet" href="../css/thanhtoan.css" />
    <script type="module" src="../js/library/index.js" defer></script>
  </head>
  <body>
    <div id="messageBox"></div>
    <section class="container">
      <section class="container-header" style="max-height: 120px">
        <header class="header">
          <section class="header-top">
            <h4
              class="header-top__title-left"
              style="cursor: pointer"
              onclick="localStorage.clear()"
            >
              E-Commerce.com
            </h4>
            <div class="header-top-right">
              <h4
                class="header-top__title-right-1"
                style="cursor: pointer"
                onclick="location.href = `./AdminPage.html`"
              >
                &copy; group 17
              </h4>
              <div class="header-top__title-right-2">
                <i class="fa-brands fa-facebook"></i>
                <i class="fa-brands fa-square-instagram"></i>
                <i class="fa-brands fa-tiktok"></i>
              </div>
            </div>
          </section>
          <section class="header-middle">
            <div class="header-menu" id="ele-header-menu-hdmn">
              <div class="menu"><i class="fa-solid fa-bars"></i></div>
            </div>
            <div class="menu-phone-wrap" id="ele-phone-menu-hdmn">
              <div class="menu-phone-top">
                <div class="phone-access-list">
                  <div
                    class="phone-access-item"
                    titles="cửa hàng"
                    onclick="location.href =`./Shop.html`"
                    id="ele-shopPage"
                  >
                    <i class="fa-solid fa-shop"></i>
                  </div>
                  <div class="phone-access-item active" titles="giỏ hàng">
                    <i class="fa-solid fa-cart-plus"></i>
                    <span id="ele-countproductincart-Home"></span>
                  </div>
                </div>
                <button class="menu-btn-close" id="ele-menu-btn-close-hdmn">
                  close
                </button>
              </div>
              <form class="search">
                <div class="input-box">
                  <input
                    type="text"
                    id="ele-input-phone-search"
                    placeholder="nhập tên sản phẩm"
                  />
                </div>
                <button class="button-search" id="ele-btn-phone-search">
                  <i class="fa-solid fa-magnifying-glass"></i>
                </button>
              </form>
              <div class="selection-menu">
                <div class="product-menu active" id="ele-product-menu-hdmn">
                  sản phẩm
                </div>
                <div class="main-menu" id="ele-main-menu-hdmn">menu</div>
              </div>
              <nav class="navigation-1" id="ele-navigation-1-hdmn">
                <ul class="list-option">
                  <li
                    class="option-item"
                    onclick="HandleEvent('searchItem',this,'Điện thoại')"
                  >
                    <div class="item-icon">
                      <img src="../image/icon/phone.png" alt="" />
                    </div>
                    <h4 class="item-title">Điện thoại</h4>
                    <div class="icon-chevron">
                      <i class="fa-solid fa-chevron-right"></i>
                    </div>
                  </li>
                  <li
                    class="option-item"
                    onclick="HandleEvent('searchItem',this,'laptop')"
                  >
                    <div class="item-icon">
                      <img src="../image/icon/laptop.png" alt="" />
                    </div>
                    <h4 class="item-title">máy tính</h4>
                    <div class="icon-chevron">
                      <i class="fa-solid fa-chevron-right"></i>
                    </div>
                  </li>
                  <li
                    class="option-item"
                    onclick="MessageBox('thông báo','sản phẩm chưa có trên cữa hàng','warning')"
                  >
                    <div class="item-icon">
                      <img src="../image/icon/tainghe.png" alt="" />
                    </div>
                    <h4 class="item-title">tại nghe</h4>
                    <div class="icon-chevron">
                      <i class="fa-solid fa-chevron-right"></i>
                    </div>
                  </li>
                  <li
                    class="option-item"
                    onclick="MessageBox('thông báo','sản phẩm chưa có trên cữa hàng','warning')"
                  >
                    <div class="item-icon">
                      <img src="../image/icon/loa.png" alt="" />
                    </div>
                    <h4 class="item-title">loa</h4>
                    <div class="icon-chevron">
                      <i class="fa-solid fa-chevron-right"></i>
                    </div>
                  </li>
                  <li
                    class="option-item"
                    onclick="HandleEvent('searchItem',this,'màn hình')"
                  >
                    <div class="item-icon">
                      <img src="../image/icon/pc.png" alt="" />
                    </div>
                    <h4 class="item-title">màn hình</h4>
                    <div class="icon-chevron">
                      <i class="fa-solid fa-chevron-right"></i>
                    </div>
                  </li>
                  <li
                    class="option-item"
                    onclick="HandleEvent('searchItem',this,'bàn phím')"
                  >
                    <div class="item-icon">
                      <img src="../image/icon/keyandmouse.png" alt="" />
                    </div>
                    <h4 class="item-title">bàn phím và chuột</h4>
                    <div class="icon-chevron">
                      <i class="fa-solid fa-chevron-right"></i>
                    </div>
                  </li>
                  <li
                    class="option-item"
                    onclick="MessageBox('thông báo','sản phẩm chưa có trên cữa hàng','warning')"
                  >
                    <div class="item-icon">
                      <img src="../image/icon/mtbag.png" alt="" />
                    </div>
                    <h4 class="item-title">máy tỉnh bảng</h4>
                    <div class="icon-chevron">
                      <i class="fa-solid fa-chevron-right"></i>
                    </div>
                  </li>
                  <li
                    class="option-item"
                    onclick="MessageBox('thông báo','sản phẩm chưa có trên cữa hàng','warning')"
                  >
                    <div class="item-icon">
                      <img src="../image/icon/dongho.png" alt="" />
                    </div>
                    <h4 class="item-title">đồng hồ</h4>
                    <div class="icon-chevron">
                      <i class="fa-solid fa-chevron-right"></i>
                    </div>
                  </li>
                </ul>
              </nav>
              <nav class="navigation-2" id="ele-navigation-2-hdmn">
                <ul class="list">
                  <li class="item" onclick="location.href = `../index.html`">
                    Home
                  </li>
                  <li class="item" onclick="location.href = `./Shop.html`">
                    shop
                  </li>
                  <li
                    class="item"
                    onclick="MessageBox('thông báo','tính năng chưa được cập nhật','warning')"
                  >
                    About
                  </li>
                  <li
                    class="item"
                    onclick="MessageBox('thông báo','tính năng chưa được cập nhật','warning')"
                  >
                    contact
                  </li>
                </ul>
              </nav>
            </div>
            <div class="header-logo">
              <img src="../image/logo/logo.png" alt="logo" />
              <h2><span>e</span>shop</h2>
            </div>
            <form action="#" class="header-search" autocomplete="off">
              <div class="input-box">
                <label for="ele-input-heađer-global"
                  ><i class="fa-solid fa-magnifying-glass"></i
                ></label>
                <input
                  id="ele-input-heađer-global"
                  type="text"
                  class="input"
                  placeholder="nhập tên sản phẩm"
                />
              </div>
              <div class="buttons">
                <button id="ele-btn-header-search">tìm kiếm</button>
              </div>
            </form>
            <div class="header-access-list">
              <div
                class="header-access-item"
                titles="Trang chủ"
                onclick="location.href =`../index.html`"
              >
                <i class="fa-solid fa-house"></i>
              </div>
              <div
                class="header-access-item"
                titles="cửa hàng"
                onclick="location.href =`./Shop.html`"
              >
                <i class="fa-solid fa-shop"></i>
              </div>
              <div class="header-access-item active" titles="giỏ hàng">
                <i class="fa-solid fa-cart-plus"></i>
                <span id="ele-countproductincart-Home"></span>
              </div>
              <div
                class="header-access-item-3"
                id="ele-btn-open-account"
                titles="tài khoản"
              >
                <i class="fa-regular fa-user"></i>
                <div class="main-account" id="ele-accout">
                  <div class="option option-1" id="ele-account-singin">
                    <span>&bull;</span> đăng nhập
                  </div>

                  <div
                    class="option option-3"
                    id="ele-account-create"
                    onclick=" MessageBox('thông báo','chức năng chưa được cập nhập','error')"
                  >
                    <span>&bull;</span> đang ký
                  </div>
                </div>
              </div>
            </div>
          </section>
        </header>
      </section>
      <h1 class="title">trang thanh toán shop E-Commerce</h1>

      <section class="container-product">
        <div class="content-left-payment" id="">
          <div class="container-fp">
            <form class="child-container" id="form">
              <div class="left-container">
                <h3>Thông tin khách hàng</h3>
                <div class="box-input">
                  <label for="name">Họ tên</label>
                  <input type="text" id="name" name="name" placeholder="" />
                  <span class="message"></span>
                </div>
                <div class="box-input">
                  <label for="address">Địa chỉ</label>
                  <input
                    type="text"
                    id="address"
                    name="address"
                    placeholder=""
                  />
                  <span class="message"></span>
                </div>
                <div class="box-input">
                  <label for="phone-number">Số điện thoại</label>
                  <input
                    type="text"
                    id="phone-number"
                    name="phone-number"
                    placeholder=""
                  />
                  <span class="message"></span>
                </div>
                <div class="box-input">
                  <label for="email">Email</label>
                  <input type="text" id="email" name="email" placeholder="" />
                  <span class="message"></span>
                </div>
              </div>

              <div class="pay-method" style="display: none">
                <div class="box-input">
                  <h3>Hình thức thanh toán</h3>
                  <div>
                    <input
                      type="radio"
                      value="tien-mat"
                      name="pay"
                      id="option1"
                    />
                    <label for="option1">Tiền mặt</label>
                  </div>
                  <div>
                    <input
                      type="radio"
                      value="chuyen-khoan"
                      name="pay"
                      id="option2"
                    />
                    <label for="option2">Chuyển khoản</label>
                  </div>
                  <div>
                    <input
                      type="radio"
                      value="ship-cod"
                      name="pay"
                      id="option3"
                    />
                    <label for="option3">Ship COD</label>
                  </div>
                  <div class="message"></div>
                </div>
              </div>
              <input type="submit" class="paybtn" value="Đặt hàng" />
            </form>
          </div>
        </div>
        <div class="content-right">
          <div class="banner-1">
            <img src="../image/banner/leftBanner.png" alt="" />
          </div>
          <div class="banner-2">
            <img src="../image/logo/pâyment.png" alt="" />
          </div>
          <div class="totail-cont">
            <h5>tổng số tiền là</h5>
            <span id="totail-cont">0 vnđ</span>
          </div>
          <!-- <div
            class="payment"
            id="ele-btn-payment"
            onclick="dispatch('payment')"
          >
            Thanh Toán
          </div> -->
        </div>
      </section>
    </section>

    <hr />

    <section id="footer" class="container-footer">
      <footer class="footer">
        <div class="footer__top">
          <h1 class="footer__title">
            Hệ thông của hàng E-commere shop chuyên bán đồ công nghệ
          </h1>
          <button class="footer__button">
            Tìm hiều thêm
            <span
              ><svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M11.2502 11.0001L13.72 8.53039C14.0129 8.23749 14.0129 7.7626 13.72 7.4697L11.2502 4.99997M13.5003 8.00004L2.50001 8.00004"
                  stroke="white"
                  stroke-width="1.1"
                  stroke-linecap="round"
                />
              </svg>
            </span>
          </button>
        </div>

        <div class="footer__bottom">
          <div class="footer__bottom-left">
            <div class="footer__left-logo">
              <img src="../image/logo/logo.png" alt="" />
            </div>
            <div class="footer__left-copyright">
              <h4>Copyright © 2023 E-Commerce</h4>
              <h4>nhom 17 web 1</h4>
            </div>
            <div class="footer__left-icon">
              <div class="f-icon"><i class="fa-brands fa-instagram"></i></div>
              <div class="f-icon"><i class="fa-brands fa-linkedin"></i></div>
              <div class="f-icon"><i class="fa-brands fa-twitter"></i></div>
              <div class="f-icon"><i class="fa-brands fa-youtube"></i></div>
            </div>
          </div>
          <div class="footer__bottom-right">
            <div class="footer__right-company">
              <h3 class="company__title">Giới thiệu</h3>
              <ul class="company__list">
                <li class="company__item">Về chúng tôi</li>
                <li class="company__item">Blog</li>
                <li class="company__item">Liên hệ</li>
                <li class="company__item">Định giá</li>
                <li class="company__item">Chứng thực</li>
              </ul>
            </div>
            <div class="footer__right-support">
              <h3 class="support__title">Hỗ trợ</h3>
              <ul class="support__list">
                <li class="support__item">trung tâm hỗ trợ</li>
                <li class="support__item">Dịch vụ</li>
                <li class="support__item">pháp lý</li>
                <li class="support__item">Thông tin</li>
                <li class="support__item">Trạng thái</li>
              </ul>
            </div>
            <div class="footer__right-stayUpToDate">
              <h3 class="contact__title">thông báo lỗi hệ thống</h3>
              <div class="input">
                <input
                  type="email"
                  class="input__email"
                  placeholder="Your Email Address"
                />
                <span class="input__icon"
                  ><i class="fa-regular fa-paper-plane"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </footer>
    </section>
  </body>
  <script>
    function Validator(object) {
      function getParent(element, selector) {
        while (element.parentElement) {
          if (element.parentElement.matches(selector))
            return element.parentElement;
          element = element.parentElement;
        }
      }
      var selectorRules = {};
      //Hàm thực hiện validate
      function validate(inputElement, rule) {
        var errorElement = getParent(
          inputElement,
          object.formGroupSelector
        ).querySelector(object.errorSelector);
        var errorMessage;
        //Lấy ra các rule của selector
        var rules = selectorRules[rule.selector];
        for (var i = 0; i < rules.length; ++i) {
          switch (inputElement.type) {
            case "radio":
              errorMessage = rules[i](
                formElement.querySelector(rule.selector + ":checked")
              );
              break;
            default:
              errorMessage = rules[i](inputElement.value.trim());
          }
          if (errorMessage) break;
        }
        if (errorMessage) {
          errorElement.innerText = errorMessage;
          getParent(inputElement, object.formGroupSelector).classList.add(
            "invalid"
          );
        } else {
          errorElement.innerText = "";
          getParent(inputElement, object.formGroupSelector).classList.remove(
            "invalid"
          );
        }
        return !errorMessage;
      }
      var formElement = document.querySelector(object.form);
      if (formElement) {
        formElement.onsubmit = function (e) {
          e.preventDefault();
          var isFromValid = true;
          object.rules.forEach(function (rule) {
            var inputElement = formElement.querySelector(rule.selector);
            var isValid = validate(inputElement, rule);
            if (!isValid) isFromValid = false;
          });

          if (isFromValid) {
            if (typeof object.onSubmit === "function") {
              var enableInput = formElement.querySelectorAll("[name]");
              var formValues = Array.from(enableInput).reduce(function (
                values,
                input
              ) {
                switch (input.type) {
                  case "file":
                    values[input.name] = input.files;
                    break;

                  default:
                    values[input.name] = input.value;
                }
                return values;
              },
              {});
              object.onSubmit(formValues);
            }
          }
        };
        //Lặp qua mỗi rules và xử lí
        object.rules.forEach(function (rule) {
          if (Array.isArray(selectorRules[rule.selector])) {
            selectorRules[rule.selector].push(rule.test);
          } else {
            //Lưu lại các rules
            selectorRules[rule.selector] = [rule.test];
          }
          var inputElements = formElement.querySelectorAll(rule.selector);
          Array.from(inputElements).forEach(function (inputElement) {
            if (inputElement) {
              switch (inputElement.type) {
                case "file":
                  inputElement.onchange = function () {
                    validate(inputElement, rule);
                  };
                  break;
                default:
                  //Xử lí khi click ra khỏi ô input
                  inputElement.onblur = function () {
                    validate(inputElement, rule);
                  };
                  //Xử lí khi người dùng nhập vào input
                  inputElement.oninput = function () {
                    var errorElement = getParent(
                      inputElement,
                      object.formGroupSelector
                    ).querySelector(object.errorSelector);
                    errorElement.innerText = "";
                    getParent(
                      inputElement,
                      object.formGroupSelector
                    ).classList.remove("invalid");
                  };
              }
            }
          });
        });
      }
    }
    Validator.isRequired = function (selector, message) {
      return {
        selector: selector,
        test: function (value) {
          return value ? undefined : message || "Hãy nhập thông tin này !";
        },
      };
    };

    Validator.isEmail = function (selector) {
      return {
        selector: selector,
        test: function (value) {
          var regex = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
          return regex.test(value) ? undefined : "Email không hợp lệ !";
        },
      };
    };
    Validator.minLength = function (selector, min, message) {
      return {
        selector: selector,
        test: function (value) {
          return value.length >= min
            ? undefined
            : message || `Hãy nhập tối thiếu ${min} kí tự`;
        },
      };
    };
    Validator.isConfirmed = function (selector, getConfirmValue, message) {
      return {
        selector: selector,
        test: function (value) {
          return value === getConfirmValue()
            ? undefined
            : message || "Giá trị nhập vào không chính xác !";
        },
      };
    };
    Validator.isPositiveInteger = function (selector, message) {
      return {
        selector: selector,
        test: function (value) {
          return value >= 0 && Number.isInteger(parseFloat(value))
            ? undefined
            : message || "Giá trị phải là số nguyên không âm !";
        },
      };
    };
    Validator.isDecimal = function (selector, message) {
      return {
        selector: selector,
        test: function (value) {
          return value >= 0 && !isNaN(value) && !Number.isInteger(value)
            ? undefined
            : message || "Giá trị phải là số dương !";
        },
      };
    };
  </script>
  <script>
    Validator({
      form: "#form",
      formGroupSelector: ".box-input",
      errorSelector: ".message",
      rules: [
        Validator.isRequired("#name", "Hãy nhập họ tên !"),
        Validator.isRequired("#address", "Hãy nhập địa chỉ !"),
        Validator.isRequired("#phone-number", "Hãy nhập số điện thoại !"),
        Validator.isPositiveInteger(
          "#phone-number",
          "Số điện thoại không hợp lệ !"
        ),
        Validator.minLength(
          "#phone-number",
          10,
          "Số điện thoại cần tối thiểu 10 số !"
        ),
        Validator.isRequired("#email", "Hãy nhập email !"),
        Validator.isEmail("#email"),
      ],
      onSubmit: function (data) {
        dispatch("payment", data);
      },
    });
  </script>
</html>
